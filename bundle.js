let screens=document.querySelectorAll(".screen"),index=0,promoBlocks=(setInterval(()=>{screens[index].classList.remove("active"),index=(index+1)%screens.length,screens[index].classList.add("active")},5e3),document.querySelectorAll(".parallax")),mediaQuery=(promoBlocks.forEach(c=>{let l=c.querySelectorAll(".icon");function t(e,t){var{width:n,height:r,left:a,top:i}=c.getBoundingClientRect();let s=(e-a-n/2)/n,o=(t-i-r/2)/r;l.forEach(e=>{e.style.transform=`translate(${15*s}px, ${15*o}px)`})}c.addEventListener("mousemove",e=>{t(e.clientX,e.clientY)}),c.addEventListener("touchmove",e=>{0<e.touches.length&&t((e=e.touches[0]).clientX,e.clientY)})}),window.matchMedia("(min-width: 1024px)"));function initObserver(){let n=document.querySelectorAll(".client__wrapper");n.forEach((t,e)=>{e!==n.length-1&&(e=n[e+1],new IntersectionObserver(([e])=>{e=e.intersectionRatio;t.style.transform=.2<e?`scale(${1-.2*((e-.2)/.8)})`:"scale(1)"},{threshold:Array.from({length:101},(e,t)=>t/100)}).observe(e))})}mediaQuery.matches&&initObserver(),mediaQuery.addEventListener("change",e=>{e.matches&&initObserver()});let cards=document.querySelectorAll(".card"),section=document.querySelector(".challenge"),ticking=!1;function updateCards(){var e=section.getBoundingClientRect(),t=window.innerHeight,e=e.top;if(e<=0&&e>=-(section.offsetHeight-t)){let n=Math.min(Math.abs(e)/(section.offsetHeight-t),1),r=1/(cards.length+1);cards.forEach((e,t)=>{t=(t+1)*r;n>=t?e.classList.add("hidden-up"):e.classList.remove("hidden-up")})}else 0<e?cards.forEach(e=>e.classList.remove("hidden-up")):cards.forEach(e=>e.classList.add("hidden-up"))}window.addEventListener("scroll",()=>{!ticking&&1024<=window.innerWidth&&(window.requestAnimationFrame(()=>{updateCards(),ticking=!1}),ticking=!0)}),document.addEventListener("DOMContentLoaded",()=>{let t=document.querySelectorAll(".work__step");var e=document.querySelector(".work");t.length&&e&&new IntersectionObserver(([e])=>{e.isIntersecting?t.forEach((e,t)=>{e.style.animationDelay=.3*t+"s",e.classList.add("animate")}):t.forEach(e=>{e.classList.remove("animate"),e.style.animationDelay="0s"})},{threshold:.4}).observe(e)}),document.querySelectorAll(".open-modal").forEach(e=>{e.addEventListener("click",()=>{document.getElementById("myModal").classList.add("active")})}),document.querySelectorAll(".modal").forEach(e=>{var t=e.querySelector(".modal__close"),n=e.querySelector(".modal__overlay");t.addEventListener("click",()=>{e.classList.remove("active")}),n.addEventListener("click",()=>{e.classList.remove("active")})}),document.querySelectorAll(".email-form").forEach(r=>{let a=!1,i=r.querySelector('input[name="email"]'),s=r.querySelector('input[name="name"]'),o=r.querySelector(".email-error"),c=r.querySelector(".name-error");i.addEventListener("input",()=>{i.classList.remove("invalid"),o.textContent=""}),s&&s.addEventListener("input",()=>{s.classList.remove("invalid"),c.textContent=""}),r.addEventListener("submit",function(t){if(t.preventDefault(),!a){var t=i.value.trim(),n=s?.value.trim();let e=!0;t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(o.textContent="Введіть коректний email",i.classList.add("invalid"),e=!1):(o.textContent="Поле email обов’язкове",i.classList.add("invalid"),e=!1),s&&!n&&(c.textContent="Поле ім’я обов’язкове",s.classList.add("invalid"),e=!1),e&&(a=!0,t={email:t,source:"audit-ua"},s&&(t.name=n),fetch("https://remrkt.me/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>{if(e.ok)return e.json();throw new Error("Помилка сервера")}).then(()=>{alert("Форма успішно надіслана!"),r.reset(),i.classList.remove("invalid"),o.textContent="",s&&(s.classList.remove("invalid"),c.textContent="");var e=r.closest(".modal");e&&e.classList.remove("active")}).catch(e=>{alert("Помилка при відправці."),console.error(e)}).finally(()=>{a=!1}))}})}),document.querySelectorAll(".header__nav-item").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t,e=this.getAttribute("href").substring(1),e=document.getElementById(e);e&&(t=document.querySelector(".header").offsetHeight,e=e.getBoundingClientRect().top+window.scrollY-t,window.scrollTo({top:e,behavior:"smooth"}))})});let navItems=document.querySelectorAll(".client__nav-item"),wrappers=document.querySelectorAll(".client__wrapper");navItems.forEach(t=>{t.addEventListener("click",()=>{var e=t.dataset.index,e=(navItems.forEach(e=>e.classList.remove("active")),wrappers.forEach(e=>e.classList.remove("active")),t.classList.add("active"),document.querySelector(`.client__wrapper[data-index="${e}"]`));e&&e.classList.add("active")})}),document.querySelectorAll(".faq__question").forEach(r=>{r.addEventListener("click",()=>{let e=r.closest(".faq__item"),t=e.querySelector(".faq__answer");var n=r.querySelector(".faq__icon");e.classList.contains("active")?(t.style.height=t.scrollHeight+"px",requestAnimationFrame(()=>{t.style.height="0"}),e.classList.remove("active"),n.textContent="+"):(e.classList.add("active"),t.style.height=t.scrollHeight+"px",n.textContent="−",t.addEventListener("transitionend",()=>{e.classList.contains("active")&&(t.style.height="auto")},{once:!0}))})});
//# sourceMappingURL=bundle.js.map
